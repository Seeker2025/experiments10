{"version":3,"file":"page-6.js","sources":["../src/js/page06.js"],"sourcesContent":["console.log('page 06');\n\nconst searchForm = document.querySelector(\".js-search\");\nconst addCountry = document.querySelector(\".js-add\");\nconst list = document.querySelector(\".js-list\");\nconst formContainer = document.querySelector(\".js-form-container\");\n// console.log(searchForm);\n// console.log(addCountry);\n// console.log(list);\n// console.log(formContainer);\n\naddCountry.addEventListener('click', handlerAddInput);\n\nfunction handlerAddInput(){\n    const markup = '<input type=\"text\" name=\"country\">';\n    formContainer.insertAdjacentHTML('beforeend', markup);\n\n}\n\nsearchForm.addEventListener('submit', handlerForm);\n\nfunction handlerForm(evt){\n    evt.preventDefault();\n    console.log(evt.currentTarget);\n    const data = new FormData(evt.currentTarget);\n    console.log(data.getAll('country'));\n    const arr = data.getAll('country').filter(item => item).map(item => item.trim());\n     console.log(arr);\n     getCountries(arr);\n}\nasync function getCountries(arr){\n    const resp = arr.map(async item => {\n        const resp = await fetch(`https://restcountries.com/v3.1/name/${item}`)\n        if(!resp.ok){\n            throw new Error();\n        }\n            return await resp.json();\n    })\n    const data = await Promise.allSettled(resp);\n    const countryObj = data.filter(({status})=> status === 'fulfilled').map(({value})=> value[0]);\n    console.log(countryObj);\n\n    return countryObj;\n}\n\nasync function getWeather(){\n    const BASE_URL = 'http://api.weatherapi.com/v1';\n}\n"],"names":["searchForm","addCountry","formContainer","handlerAddInput","handlerForm","evt","data","arr","item","getCountries","resp","countryObj","status","value"],"mappings":"oCAAA,QAAQ,IAAI,SAAS,EAErB,MAAMA,EAAa,SAAS,cAAc,YAAY,EAChDC,EAAa,SAAS,cAAc,SAAS,EACtC,SAAS,cAAc,UAAU,EAC9C,MAAMC,EAAgB,SAAS,cAAc,oBAAoB,EAMjED,EAAW,iBAAiB,QAASE,CAAe,EAEpD,SAASA,GAAiB,CAEtBD,EAAc,mBAAmB,YADlB,oCACqC,CAExD,CAEAF,EAAW,iBAAiB,SAAUI,CAAW,EAEjD,SAASA,EAAYC,EAAI,CACrBA,EAAI,eAAc,EAClB,QAAQ,IAAIA,EAAI,aAAa,EAC7B,MAAMC,EAAO,IAAI,SAASD,EAAI,aAAa,EAC3C,QAAQ,IAAIC,EAAK,OAAO,SAAS,CAAC,EAClC,MAAMC,EAAMD,EAAK,OAAO,SAAS,EAAE,OAAOE,GAAQA,CAAI,EAAE,IAAIA,GAAQA,EAAK,KAAI,CAAE,EAC9E,QAAQ,IAAID,CAAG,EACfE,EAAaF,CAAG,CACrB,CACA,eAAeE,EAAaF,EAAI,CAC5B,MAAMG,EAAOH,EAAI,IAAI,MAAMC,GAAQ,CAC/B,MAAME,EAAO,MAAM,MAAM,uCAAuCF,CAAI,EAAE,EACtE,GAAG,CAACE,EAAK,GACL,MAAM,IAAI,MAEV,OAAO,MAAMA,EAAK,KAAI,CAClC,CAAK,EAEKC,GADO,MAAM,QAAQ,WAAWD,CAAI,GAClB,OAAO,CAAC,CAAC,OAAAE,CAAM,IAAKA,IAAW,WAAW,EAAE,IAAI,CAAC,CAAC,MAAAC,CAAK,IAAKA,EAAM,CAAC,CAAC,EAC5F,eAAQ,IAAIF,CAAU,EAEfA,CACX"}