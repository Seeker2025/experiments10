import"./assets/styles-DF3wYhPP.js";console.log("page 08");let c=n=>document.querySelector(n);const u=c(".js-search"),m=c(".js-add");c(".js-list");const d=c(".js-form-container");function p(){d.insertAdjacentHTML("beforeend",'<input type="text" name="country">')}m.addEventListener("click",p);u.addEventListener("submit",f);function f(n){n.preventDefault();const r=new FormData(n.currentTarget).getAll("country").filter(t=>t).map(t=>t.trim());console.log(r),h(r).then(async t=>{console.log(t);const e=t.map(({capital:a})=>a[0]);console.log(e);const o=await g(e);console.log(o)}).catch(t=>{console.log(t)})}async function h(n){const s=n.map(async e=>{const o=await fetch(`https://restcountries.com/v3.1/name/${e}`);if(!o.ok)throw new Error;return o.json()});return(await Promise.allSettled(s)).filter(({status:e})=>e==="fulfilled").map(({value:e})=>e[0])}async function g(n){const s="https://api.weatherapi.com/v1",r="65fc8710104c48e595e140016252406",t=n.map(async a=>{const i=new URLSearchParams({key:r,q:a,lang:"uk"}),l=await fetch(`${s}/current.json?${i}`);if(!l.ok)throw new Error(l.statusText);return l.json()}),e=await Promise.allSettled(t);console.log(e);const o=e.filter(({status:a})=>a==="fulfilled").map(({value:a})=>a);return console.log(o),o}
//# sourceMappingURL=page-8.js.map
